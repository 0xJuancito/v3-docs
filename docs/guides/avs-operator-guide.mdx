# Hyperlane AVS Operator Guide for Holesky

## Overview

Hyperlane validators are extremely lightweight off-chain agents responsible for observing the [Mailbox](../protocol/mailbox.mdx) on the source chain contract and, if required, signing a merkle root to faciliate message transmission to remote chains. Learn more about the AVS protocol design [here](../protocol/eigenlayer-avs.mdx).


## 0. Prerequisites

Install the latest version of the `@hyperlane-xyz/cli` package with `npm install -g @hyperlane-xyz/cli`. Follow more detailed instructions for installation [here](https://docs.hyperlane.xyz/docs/reference/cli).

## 1. Running the validator

Follow the validator guide [here](../operate/validators/run-validators.mdx) with the AWS setup to run the validator on [any chain](https://github.com/hyperlane-xyz/hyperlane-registry/tree/main/chains) within the Hyperlane network. You can also easily generalize for other storage providers like [GCP](https://github.com/hyperlane-xyz/hyperlane-monorepo/pull/3156) and Azure, or other key management solutions.

Make sure your KMS key will have funds on that chain to announce itself.

### Monitoring

You can monitor EigenLayer specific endpoints via the `--metrics` port you specified in the validator configuration. Read more about the example endpoints and what should be expected [here](https://docs.eigenlayer.xyz/eigenlayer/avs-guides/spec/api/).

The supported endpoints are:

| Endpoint                     | Description                                |
| ---------------------------- | ------------------------------------------ |
| **GET /eigen/node**          | for node info                              |
| **GET /eigen/node/health**   | for node health                            |
| **GET /eigen/node/services** | for a list of services the node is running |

You'll need the validator address (address of the signing key) for the next step.

## 2. Set up keys

There is a distinction between the operator key and the AVS signing key. The operator key is meant for just interacting with the AVS contracts whereas the AVS signing key is used for active operations, which in our case will be signing checkpoints with a Hyperlane validator.

## 3. Register your operator

First, make sure you're registered with your operator key [as an EigenLayer operator](https://docs.eigenlayer.xyz/eigenlayer/operator-guides/operator-installation#operator-configuration-and-registration) on Holesky. You'll only need the ECDSA key.

Next, to register your operator to Hyperlane AVS, you can register your operator key (generated via the EigenLayer CLI) by creating an ECDSA signature and submitting it along with the AVS signing key (the validator address from above) with the Hyperlane CLI:

```bash
 hyperlane avs register --operatorKeyPath <PATH_TO_OPERATOR_KEY> \
    --chain holesky \
    --avsSigningKey <AVS_SIGNING_KEY>
```

Your AVS signing key can be used across multiple validators and doesn't require additional registration for each. If you use different AVS signing keys for each validator, you'll need to register each as an operator.

:::success

Congrats on registering with the Hyperlane AVS!

You can confirm you are registered by checking under the operator's section on EigenLayer's UI for Holesky [here](https://holesky.eigenlayer.xyz/avs/0xc76e477437065093d353b7d56c81ff54d167b0ab). 

Once confirmed, any Hyperlane message receiver can now leverage your validators signatures for security. You can also support many chains with the same AVS signing key if you're running the operator for different chains.

:::
